---
phase: 14-integration-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/MicroCommerce.Web/src/app/(storefront)/account/profile/page.tsx
  - src/MicroCommerce.Web/src/app/(storefront)/account/addresses/page.tsx
  - src/MicroCommerce.Web/src/app/(storefront)/account/security/page.tsx
  - src/MicroCommerce.Web/src/app/(storefront)/account/layout.tsx
  - src/MicroCommerce.Web/src/components/account/profile-form.tsx
  - src/MicroCommerce.Web/src/components/account/address-card.tsx
  - src/MicroCommerce.Web/src/components/wishlist/wishlist-empty-state.tsx
  - src/MicroCommerce.Web/src/app/(storefront)/wishlist/page.tsx
autonomous: true

must_haves:
  truths:
    - "All account pages use consistent spacing, typography, and card styling"
    - "Profile, addresses, and wishlist pages show skeleton screens matching content layout (not spinners)"
    - "Addresses page shows helpful empty state with icon, message, and 'Add Address' CTA button"
    - "Error states show inline error with AlertCircle icon and 'Try again' button (not toasts)"
    - "Visual style follows clean & minimal Vercel/Linear aesthetic across all v1.1 pages"
  artifacts:
    - path: "src/MicroCommerce.Web/src/app/(storefront)/account/addresses/page.tsx"
      provides: "Polished addresses page with skeleton, empty state, and consistent styling"
    - path: "src/MicroCommerce.Web/src/app/(storefront)/account/profile/page.tsx"
      provides: "Polished profile page with consistent heading and description"
    - path: "src/MicroCommerce.Web/src/app/(storefront)/account/security/page.tsx"
      provides: "Polished security page with consistent styling"
  key_links:
    - from: "src/MicroCommerce.Web/src/app/(storefront)/account/addresses/page.tsx"
      to: "src/MicroCommerce.Web/src/components/account/address-form-dialog.tsx"
      via: "Empty state CTA triggers add address dialog"
      pattern: "AddressFormDialog"
---

<objective>
Apply visual consistency and polish across all v1.1 account pages and wishlist. Ensure skeleton screens match content layout, empty states have icon + message + CTA, error states are inline with retry buttons, and all pages follow the clean & minimal Vercel/Linear aesthetic with consistent spacing, typography, borders, and colors.

Purpose: Achieves visual cohesion across profile, reviews, and wishlist features (Phase 14 success criterion #4) and ensures polished UX states (loading, error, empty).
Output: Updated account pages, address page, wishlist page, and profile components with consistent styling and polish.
</objective>

<execution_context>
@/Users/baotoq/.claude/get-shit-done/workflows/execute-plan.md
@/Users/baotoq/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-integration-polish/14-RESEARCH.md
@src/MicroCommerce.Web/src/app/(storefront)/account/profile/page.tsx
@src/MicroCommerce.Web/src/app/(storefront)/account/addresses/page.tsx
@src/MicroCommerce.Web/src/app/(storefront)/account/security/page.tsx
@src/MicroCommerce.Web/src/app/(storefront)/account/layout.tsx
@src/MicroCommerce.Web/src/components/account/profile-form.tsx
@src/MicroCommerce.Web/src/components/account/address-card.tsx
@src/MicroCommerce.Web/src/app/(storefront)/wishlist/page.tsx
@src/MicroCommerce.Web/src/components/wishlist/wishlist-empty-state.tsx
@src/MicroCommerce.Web/src/components/storefront/order-detail.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish account pages with consistent typography, spacing, and skeleton screens</name>
  <files>
    src/MicroCommerce.Web/src/app/(storefront)/account/profile/page.tsx
    src/MicroCommerce.Web/src/app/(storefront)/account/addresses/page.tsx
    src/MicroCommerce.Web/src/app/(storefront)/account/security/page.tsx
    src/MicroCommerce.Web/src/app/(storefront)/account/layout.tsx
    src/MicroCommerce.Web/src/components/account/profile-form.tsx
    src/MicroCommerce.Web/src/components/account/address-card.tsx
  </files>
  <action>
Audit and update all account pages for visual consistency following the design tokens from 14-RESEARCH.md.

**Consistent page headings across ALL account pages:**
All account pages should use:
```
<h2 className="text-2xl font-bold tracking-tight">Page Title</h2>
<p className="mt-1 text-sm text-zinc-500">Description text</p>
```
Currently profile/page.tsx uses `font-semibold` — change to `font-bold tracking-tight` for consistency with order-detail.tsx pattern. Add a brief description below each heading.

**Profile page (`profile/page.tsx`):**
- Update heading to `text-2xl font-bold tracking-tight` + description "Manage your display name and avatar"
- ProfileForm already has a loading skeleton — verify it matches content layout (avatar circle + text lines + input + button)
- If ProfileForm skeleton is just a generic pulse div, replace with content-matching skeleton:
  - `<Skeleton className="size-24 rounded-full" />` for avatar
  - `<Skeleton className="h-6 w-48" />` for display name
  - `<Skeleton className="h-4 w-32" />` for email
  - `<Skeleton className="h-10 w-full" />` for input field
  - `<Skeleton className="h-10 w-32 rounded-full" />` for button

**Addresses page (`addresses/page.tsx`):**
- Update heading to `text-2xl font-bold tracking-tight` + description "Manage your shipping addresses"
- **Replace pulse skeleton** (`animate-pulse rounded-lg border bg-zinc-100`) with content-matching skeleton using Skeleton component:
  - Each skeleton card: `<div className="rounded-xl border border-zinc-200 p-6 space-y-3">` containing:
    - `<Skeleton className="h-5 w-32" />` (name)
    - `<Skeleton className="h-4 w-48" />` (street)
    - `<Skeleton className="h-4 w-40" />` (city, state, zip)
    - `<Skeleton className="h-4 w-24" />` (country)
    - `<div className="flex gap-2 pt-2"><Skeleton className="h-8 w-8 rounded-md" /><Skeleton className="h-8 w-8 rounded-md" /><Skeleton className="h-8 w-8 rounded-md" /></div>` (action buttons)
- **Replace empty state** (dashed border text-only) with icon + message + CTA pattern:
  ```tsx
  <div className="flex flex-col items-center justify-center py-24 text-center">
    <MapPin className="mb-4 size-12 text-zinc-300" />
    <h3 className="text-lg font-semibold text-zinc-900">No saved addresses</h3>
    <p className="mt-1 text-sm text-zinc-500">Add an address to make checkout faster next time.</p>
    <AddressFormDialog trigger={
      <Button className="mt-6 rounded-full" size="lg">
        <Plus className="mr-2 size-4" />
        Add Address
      </Button>
    } />
  </div>
  ```
- Update "Add Address" button in header to use `rounded-full` for consistency with Vercel aesthetic
- Import Skeleton from @/components/ui/skeleton, MapPin from lucide-react

**Security page (`security/page.tsx`):**
- Audit current implementation — update heading to `text-2xl font-bold tracking-tight` + description "Manage your password and security settings"
- Ensure link to Keycloak account management uses consistent button styling (`rounded-full`)

**Address card (`address-card.tsx`):**
- Ensure cards use consistent `rounded-xl border border-zinc-200` styling (no shadow-sm if currently mixed)
- Ensure action buttons have consistent spacing and hover states

**Account layout (`layout.tsx`):**
- Verify max-w-6xl mx-auto px-4 py-8 container pattern
- Verify heading uses `text-3xl font-bold tracking-tight` for "My Account"
- Audit sidebar for consistent spacing

**Design tokens to enforce:**
- Primary text: text-zinc-900
- Secondary text: text-zinc-500
- Borders: border-zinc-200
- Card corners: rounded-xl
- Primary buttons: rounded-full bg-zinc-900 text-white
- Outline buttons: rounded-full variant="outline"
- Section spacing: space-y-6
  </action>
  <verify>
- TypeScript compiles: `cd src/MicroCommerce.Web && npx tsc --noEmit`
- All account page headings use consistent `text-2xl font-bold tracking-tight`
- Addresses page uses Skeleton component (not animate-pulse div)
- Addresses empty state has MapPin icon + message + "Add Address" CTA button
- No instances of generic spinner/pulse loading where content-matching skeleton should be
  </verify>
  <done>
- All account pages have consistent heading typography (text-2xl font-bold tracking-tight + description)
- Addresses page has content-matching skeleton screen with Skeleton components
- Addresses page has icon + message + CTA empty state (MapPin icon)
- Security page has consistent styling
- Address cards use consistent border/rounded styling
- Account layout container has correct spacing
  </done>
</task>

<task type="auto">
  <name>Task 2: Polish wishlist page and ensure cross-page visual consistency</name>
  <files>
    src/MicroCommerce.Web/src/app/(storefront)/wishlist/page.tsx
    src/MicroCommerce.Web/src/components/wishlist/wishlist-empty-state.tsx
  </files>
  <action>
Polish the wishlist page for visual consistency with account pages and the clean & minimal aesthetic.

**Wishlist page (`wishlist/page.tsx`):**
- Update heading to use `text-2xl font-bold tracking-tight` (currently `text-2xl font-bold` — add `tracking-tight` for consistency)
- Verify sign-in prompt styling matches the overall aesthetic:
  - Replace raw `<button>` with `<Button className="mt-6 rounded-full" size="lg">` from shadcn/ui for consistency
  - Use same empty state pattern: icon (Heart) + heading + message + CTA button
- Ensure container uses consistent spacing (`py-8` for content, matching account layout)

**Wishlist empty state (`wishlist-empty-state.tsx`):**
- Verify it follows the standard pattern: icon (size-12, text-zinc-300) + heading (text-lg font-semibold) + message (text-sm text-zinc-500) + CTA button (rounded-full, size="lg")
- If CTA button doesn't use `rounded-full`, update it
- Ensure "Browse Products" link goes to `/` (home/products page)

**Cross-page consistency check:**
Verify these patterns are consistent across order-detail.tsx, wishlist page, and account pages:
- Error states: AlertCircle icon + "Something went wrong" + error message + "Try Again" rounded-full button
- Empty states: Relevant icon (size-12, text-zinc-300) + heading + message + CTA rounded-full button
- Loading states: Skeleton components matching content layout
- Page headings: text-2xl font-bold tracking-tight (sub-pages), text-3xl font-bold (top-level)

**IMPORTANT per locked decisions:**
- Wishlist page: clicking a product navigates to product detail page — no inline actions. Verify WishlistItemCard links to product detail (should already be the case).
- Header navigation: keep as-is. Do NOT modify header.
  </action>
  <verify>
- TypeScript compiles: `cd src/MicroCommerce.Web && npx tsc --noEmit`
- Wishlist page heading has `tracking-tight`
- Wishlist sign-in prompt uses Button component (not raw button element)
- Empty state uses rounded-full button
- No inconsistent styling between wishlist and account pages
  </verify>
  <done>
- Wishlist page uses consistent heading typography
- Sign-in prompt uses proper Button component with rounded-full styling
- Empty state follows standard pattern (icon + heading + message + CTA)
- Visual consistency achieved between wishlist, account pages, and order detail
  </done>
</task>

</tasks>

<verification>
1. TypeScript compiles cleanly: `cd src/MicroCommerce.Web && npx tsc --noEmit`
2. All account pages have consistent heading typography and descriptions
3. Skeleton screens match content layout (no generic pulse divs)
4. Empty states have icon + message + CTA button pattern
5. Buttons use rounded-full consistently for primary actions
6. Cards use consistent border/rounded styling throughout
</verification>

<success_criteria>
- All account pages visually consistent (typography, spacing, borders, colors)
- Skeleton screens match actual content layout structure
- Empty states are helpful with icon, message, and actionable CTA
- Clean & minimal Vercel/Linear aesthetic applied consistently
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/14-integration-polish/14-02-SUMMARY.md`
</output>
